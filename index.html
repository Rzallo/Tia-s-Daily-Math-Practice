<!-- Difficulty selector added + logic for varying problem generation by level -->

<label for="difficulty">Select Difficulty: </label>
<select id="difficulty">
  <option value="easy">Easy</option>
  <option value="medium">Medium</option>
  <option value="hard">Hard</option>
  <option value="hardest">Hardest</option>
</select>

<script>
function generateRandomProblem() {
  const difficulty = document.getElementById('difficulty')?.value || 'medium';
  let a, b;
  switch (difficulty) {
    case 'easy':
      a = +(Math.random() * 10).toFixed(2);
      b = +(Math.random() * 10).toFixed(2);
      break;
    case 'medium':
      a = +(Math.random() * 100).toPrecision(3);
      b = +(Math.random() * 10).toPrecision(3);
      break;
    case 'hard':
      a = +(Math.random() * Math.pow(10, Math.floor(Math.random() * 3 + 1))).toExponential(2);
      b = +(Math.random() * Math.pow(10, Math.floor(Math.random() * 2))).toExponential(2);
      break;
    case 'hardest':
      a = +(Math.random() * Math.pow(10, Math.floor(Math.random() * 5 - 2))).toExponential(3);
      b = +(Math.random() * Math.pow(10, Math.floor(Math.random() * 5 - 2))).toExponential(3);
      break;
    default:
      a = +(Math.random() * 100).toPrecision(3);
      b = +(Math.random() * 10).toPrecision(3);
  }
  const isDiv = Math.random() < 0.5;
  const result = isDiv ? a / b : a * b;
  const problemText = isDiv ? `${a} รท ${b}` : `${a} ร ${b}`;
  return { problemText, answer: +result.toPrecision(4) };
}
</script>
