[FULL UPDATED HTML WITH MISSED QUESTIONS BUTTON AND REVIEW SESSION LIMITS]

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Head content unchanged -->
</head>
<body>
  <h1>ðŸ“˜ Daily Math Practice</h1>
  <div class="toggle-container">
    <label>
      <input type="checkbox" id="darkToggle"> ðŸŒ™ Dark Mode
    </label>
  </div>
  <div class="streak" id="streak"></div>
  <div class="stats" id="stats"></div>
  <div class="review-mode" id="reviewMode"></div>
  <button id="goToMissed" class="next-button">ðŸ“‚ Practice Missed Questions</button>
  <hr />
  <div class="problem" id="problem"></div>
  <div class="choices" id="choices"></div>
  <div class="feedback" id="feedback"></div>
  <div class="joke" id="joke"></div>
  <div class="tip" id="tip"></div>
  <button class="next-button" id="nextBtn" style="display:none;">Next Question</button>

<script>
  // Inside <script>...
  let reviewQueue = [], reviewSessionActive = false;

  function startReviewSession() {
    const wrongMap = JSON.parse(localStorage.getItem('wrongProblems') || '{}');
    reviewQueue = Object.entries(wrongMap).map(([problemText, data]) => ({ problemText, ...data }));
    reviewQueue = reviewQueue.sort(() => Math.random() - 0.5);
    reviewSessionActive = true;
    renderReviewProblem();
  }

  function renderReviewProblem() {
    if (!reviewQueue.length) {
      reviewSessionActive = false;
      alert('âœ… Review complete for this session! Come back tomorrow or practice new problems.');
      renderProblem();
      return;
    }
    const current = reviewQueue.pop();
    currentProblem = {
      problemText: current.problemText,
      answer: current.correctAnswer
    };
    inReview = true;
    renderProblem(true);
  }

  function renderProblem(forceReview = false) {
    // Modified renderProblem logic to handle review session
    if (forceReview) {
      document.getElementById('reviewMode').textContent = 'ðŸ§  Review Mode â€” Get it right 3 times to remove!';
    } else {
      // ... existing logic (as seen in the original file)
    }
  }

  document.getElementById('goToMissed').addEventListener('click', () => {
    if (reviewSessionActive) {
      alert('ðŸ•“ You already started today's review session. Please finish that first.');
    } else {
      startReviewSession();
    }
  });

  // All other logic remains the same
</script>
</body>
</html>
